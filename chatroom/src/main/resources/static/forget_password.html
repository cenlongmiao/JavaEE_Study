<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>忘记密码</title>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/login.css">
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
</head>
<body>
    <style>
        .login-dialog {
            width: 400px;
            height: 495px;
            background-color: rgb(220, 220, 220, 0.9);
            border-radius: 15px;
        }
       
    </style>
     <!-- 导航栏 -->
     <div class="nav">
        网页聊天室
        <span style="width: 83%;"></span>
        <a href="login.html">登录</a>
        <a href="register.html">注册</a>
    </div>
    <!-- 主窗口区 -->
    <div class="login-container">
        <div class="login-dialog">
            <h3>重置密码</h3>
            <div class="row">
                <span>用户名</span>
                <input type="text" id="username">
            </div>
            <div class="row">
                <span>新密码</span>
                <input type="password" id="password">
            </div>
            <div class="row">
                <span>确认新密码</span>
                <input type="password" id="password2">
            </div>
            <div class="row">
                <span>原绑定邮箱</span>
                <input type="text" id="email">
            </div>
            <div class="row">
                <span>验证码</span>
                <input type="text" id="code">
            </div>
            <div class="row">
                <button id="get-code" onclick="getCode()">获取验证码</button>
            </div>
            <div class="row">
                <button id="submit" onclick="submit()">重置</button>
            </div>
        </div>
    </div>
    <script>
        let username = jQuery("#username");
        let password = jQuery("#password");
        let password2 = jQuery("#password2");
        let email = jQuery("#email");
        let codeInput = jQuery("#code");

        // 点击重置
        function submit() {
            if(username.val().trim() == "") {
                alert("请先输入用户名！");
                username.focus();
                return false;
            }
            if(password.val().trim() == "") {
                alert("请先输入新密码！");
                password.focus();
                return false;
            }
            if(password2.val().trim() == "") {
                alert("请先输入确认新密码！");
                password2.focus();
                return fasle;
            }
            if(password.val().focus() != password2.val().trim()) {
                alert("注册失败，两次密码输入不一致！");
                password.val("");
                password2.val("");
                password.focus();
                return false;
            }
            if(email.val().trim() == "") {
                alert("请先输入原绑定邮箱！");
                email.focus();
                return false;
            }
            // 邮箱格式校验
            if(email.val().focus().search("@") == -1) {
                alert("邮箱格式错误，请重新输入！");
                email.val("");
                email.focus();
                return false;
            }
            if(codeInput.val().trim() == "") {
                alert("请先输入验证码！");
                codeInput.focus();
                return false;
            }
        }
    </script>
    
        
</body>
</html>